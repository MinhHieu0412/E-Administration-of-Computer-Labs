@using E_Administration.Models
@{
    ViewData["Title"] = "Report Issue";
    Layout = "~/Areas/User/Views/Shared/_Layout.cshtml";
}



<nav class="my-auto" aria-label="breadcrumb">
    <ol class="breadcrumb p-0 my-auto" style="background: none;">
        <li class="breadcrumb-item"><a asp-area="Admin" asp-controller="Admin" asp-action="Dashboard" class="orange">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Report</li>
    </ol>
</nav>


<main id="main-content">
    <section id="report-section" class="py-5">
        <div class="container">
            <h3>Select a Lab to Report an Issue</h3>

            <!-- Success Message -->
            @if (TempData["SuccessMessage"] != null)
            {
                <div class="alert alert-success" role="alert">
                    @TempData["SuccessMessage"]
                </div>
            }

            <!-- Lab Buttons -->
            <div class="mb-4">
                @if (ViewData["Labs"] is IEnumerable<dynamic> labs)
                {
                    foreach (var lab in labs)
                    {
                        <button class="btn btn-primary m-2"
                                onclick="location.href='@Url.Action("ReportDetails", "Report", new { labId = lab.ID })'">
                            @lab.Name
                        </button>
                    }
                }
                else
                {
                    <p>No labs available.</p>
                }
            </div>
        </div>
    </section>
</main>
